<!DOCTYPE html>
<html>
<head>
  <title>Dashboard Starter UI, by Keen IO</title>
  <link rel="stylesheet" type="text/css" href="../../assets/lib/bootstrap/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../../assets/css/keen-dashboards.css" />

</head>
<body class="application">

<script type="text/javascript" charset="utf-8">

    $(function(){
        new Highcharts.Chart({
            chart: {
                renderTo: "ejemplo"
            },
            title: {
                text: "Ofertas en el tiempo"},
            xAxis: {
                type: "datetime"
            },
            yAxis: {
                title:{
                    text: "cantidad"
                }
            },
            series: [{
                name: "Instagram",
                pointInterval: <%= 1.day*1000%>,
                pointStart: <%= 1.weeks.ago.to_i * 1000 %>,
                data: <%= (1.weeks.ago.to_date..Date.tomorrow).map{|date| PromoManager.obtener_cantidad_promociones_instagram date }.inspect %>
            },
                {
                    name: "Cola AMPQ",
                    pointInterval: <%= 1.day*1000%>,
                    pointStart: <%= 1.weeks.ago.to_i * 1000 %>,
                    data: <%= (1.weeks.ago.to_date..Date.tomorrow).map{|date| PromoManager.obtener_cantidad_promociones_cola date }.inspect %>
                }]





        });

        new Highcharts.Chart({
            chart:{
                renderTo: "ejemplo2",

                plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false,
                type: 'pie'

            },
            title: {
                text: "Promociones publicadas en Twitter"},
            series: [{
                name: "Brands",
                colorByPoint: true,
                data: [{
                    name: "Chocolate",
                    y: <%=@twitter_choco%>
                }, {
                    name: "Madera",
                    y: <%=@twitter_madera%>,
                    sliced: true,
                    selected: true
                }, {
                    name: "Pasta semola",
                    y: <%=@twitter_pastasemola%>
                }, {
                    name: "Celulosa",
                    y: <%=@twitter_celulosa%>
                }, {
                    name: "Azucar",
                    y:<%=@twitter_azucar %>
                }]
            }]


        });

        new Highcharts.Chart({
            chart:{
                renderTo: "ejemplo3",

                plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false,
                type: 'pie'

            },
            title: {
                text: "Promociones de Instagram"},
            series: [{
                name: "Brands",
                colorByPoint: true,
                data: [{
                    name: "Chocolate",
                    y: <%=@insta_choco%>
                }, {
                    name: "Madera",
                    y: <%=@insta_madera%>,
                    sliced: true,
                    selected: true
                }, {
                    name: "Pasta semola",
                    y: <%=@insta_pastasemola%>
                }, {
                    name: "Celulosa",
                    y:<%=@insta_celulosa%>
                }, {
                    name: "Azucar",
                    y: <%=@insta_azucar%>
                }]
            }]


        });


    });

</script>

<h1 style="margin-top: -30px"> Reporte de ofertas</h1>
<hr>
<div class="container-fluid">


  <div class="row">
    <div class="col-sm-10">
      <div class="chart-wrapper">

        <div class="chart-stage">
          <div id="ejemplo"></div>
        </div>
      </div>
    </div>

    <div class="col-sm-5">
      <div class="chart-wrapper">
        <div class="chart-stage">
          <div id="ejemplo3"></div>
        </div>

      </div>
    </div>
    <div class="col-sm-5">
      <div class="chart-wrapper">
        <div class="chart-stage">
          <div id="ejemplo2"></div>
        </div>

      </div>
    </div>

  </div>



  <hr>

  <p class="small text-muted">Built with &#9829; by <a href="https://keen.io">Keen IO</a></p>

</div>

<script type="text/javascript" src="../../assets/lib/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="../../assets/lib/bootstrap/dist/js/bootstrap.min.js"></script>

<script type="text/javascript" src="../../assets/lib/holderjs/holder.js"></script>
<script>
    Holder.add_theme("white", { background:"#fff", foreground:"#a7a7a7", size:10 });
</script>

<script type="text/javascript" src="../../assets/lib/keen-js/dist/keen.min.js"></script>
<script type="text/javascript" src="../../assets/js/meta.js"></script>

</body>
</html>